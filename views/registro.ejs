<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body>
    <h1>Registro de Usuario</h1>
    <form action="/registro" method="POST">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre" required><br>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required><br>

        <label for="contrasena">Contraseña</label>
        <input type="password" id="contrasena" name="contrasena" required><br>

        <!-- Botón para subir foto (que dispara el input oculto) -->
        <div class="boton-subir-foto" id="nuevaFoto">
            <i class="fa-regular fa-image"></i> <!-- Icono de imagen -->
        </div>

        <button type="submit">Registrarse</button>
    </form>

    <input type="file" name="archivoFoto" style="display: none;" id="nuevoArchivo" accept="image/*">

    <script type="text/javascript">
        // Activar el input de archivo cuando se haga clic en el área del botón
        document.getElementById("nuevaFoto").addEventListener("click", function () {
            document.getElementById("nuevoArchivo").click();
        });

        // Cuando el usuario seleccione un archivo
        document.getElementById("nuevoArchivo").addEventListener("change", function () {
            const archivo = this.files[0];

            if (archivo) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    // Establecer la imagen seleccionada como fondo del div
                    document.getElementById("nuevaFoto").style.backgroundImage = `url(${e.target.result})`;
                    document.getElementById("nuevaFoto").style.backgroundSize = "cover";  // Asegura que la imagen cubra todo el div
                    document.getElementById("nuevaFoto").style.backgroundPosition = "center";  // Centra la imagen
                    document.getElementById("nuevaFoto").style.backgroundRepeat = "no-repeat";  // Evita que la imagen se repita
                }

                // Leer el archivo como una URL de imagen
                reader.readAsDataURL(archivo);
            }
        });

    </script>

    <a href="/login">¿Ya tienes cuenta? Inicia sesión</a>
</body>

</html>